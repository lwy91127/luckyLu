title: 数据库试题集
date: 2015-10-22 14:51:38
tags: 数据库
---

### 1. 什么是数据库的参照完整性？

> 解答：数据库的参照完整性是指表与表之间的一种对应关系，通常情况下可以通过是指两个表之间的主键和外键关系，或者编写两表的触发器来实现。
> 有对应参照完整的两张表格，在对他们进行数据插入、更新、删除的过程中，系统都会将被修改表格与另一张表格进行对照，从而阻止一些不正确的
> 操作。

### 2. 如何优化数据库，如何提高数据库的性能？

> 解答：1）**硬件调整性能** 
> &emsp;&emsp;&emsp;最有可能影响性能的是磁盘和网络吞吐量，解决办法是扩大虚拟内存，并保证有足够可以扩充的空间；把数据库服务器的不必要服务关闭掉；把数
> &emsp;&emsp;&emsp;据库服务器和主域服务器分开；把SQL数据库服务器的吞吐量调为最大；在一个以上处理器的机器上运行SQL。
> &emsp;&emsp;&emsp;2)**调整数据库**
> &emsp;&emsp;&emsp;若对该表的查询频率比较高，则建立索引；建立索引时，想尽对该表的所有查询搜索操作，按照where选择条件建立索引，尽量为整型键建立为有且
> &emsp;&emsp;&emsp;只有一个簇集索引，数据在物理上按顺序在数据页上，缩短查找范围，为在查询经常使用的全部列建立非簇集索引，能最大地覆盖查询；但是索引
> &emsp;&emsp;&emsp;不可太多，执行UPDATE DELETE INSERT语句需要用于维护这些索引的开销急剧增加；
> &emsp;&emsp;&emsp;3)**使用存储过程**
> &emsp;&emsp;&emsp;应用程序实现过程中，能够采用存储过程实现对数据库的操作尽量通过存储过程来实现，因为存储过程是存放在数据库服务器上的一次性被设计、
> &emsp;&emsp;&emsp;编码、测试，并被再次使用，需要执行该任务的应用可以简单地执行存储过程，并且只返回结果及或者数值，这样不仅可以使程序模块化，同时提
> &emsp;&emsp;&emsp;高响应速度，减少网络流量，并且通过输入参数接受输入，使得在应用中完成逻辑的一致性实现。
> &emsp;&emsp;&emsp;4)**应用程序结构和算法**
> &emsp;&emsp;&emsp;建立查询条件索引仅仅是提高速度的前提条件，响应速度的提高还依赖于对索引的使用。因为人们在使用SQL时往往会陷入一个误区，即太关注于所
> &emsp;&emsp;&emsp;得的结果是否正确，特别是对数据量不是特别大的数据库操作时，是否建立索引和使用索引的好坏对程序的响应速度并不大。

<!-- more -->

### 3. 数据库连接池的工作机制

> J2EE服务器启动的时候，会创建一定数量的池连接，并维持不少于此数量的池连接。
> 程序需要时，池驱动程序会返回一个未使用的池连接并将其标志为忙。
> 如果当前没有空闲连接，池驱动会新建一批，数据有配置参数决定。
> 当调用池连接完成后，池驱动将此连接标记为空闲，其他调用就可以使用这个连接

### 4. 数据库事务的基本特征:

> 1.原子性(A):事务中包含的操作被看做一个逻辑单元
> 2.一致性(C):事务完成时,数据必须处于一致状态,数据的完整性约束条件没有被破坏,事务在执行过程中发生错误,会被回滚到事务开始前的状态
> 3.隔离性(I):事务允许多个用户对同一个数据进行并发访问,而不破坏数据的正确性和完整性,同时,并发事务的修改必须与其他并行事务的修改相互独立
> 4.持久性(D):事务结束后,事务处理的结果必须能够得到固化

### 5. 数据库索引

> 1.主索引:能唯一标识一条记录,只能由一个字段组成,一个表只能建立一个主索引
> 2.候选索引:能唯一标识一条记录,但是不一定只由一个字段组成,可以由两个或两个以上字段组成,一个表可以建立多个候选索引
> 3.普通索引:不能唯一标识一条记录,可以任意建立,数量不限,建立普通索引的主要目的是为了加快查询速度和建立表之间的联系
> 4.唯一索引:为拥有唯一值的数据列建立索引

### 6. 数据库事务隔离

> 1.Read Uncommitted:读未提交,一个更新语句未条件,其他事务也可以读到,所以会产生很多问题.(脏读,不可重复读,幻读)
> 2.Read Committed:读取提交,一个事务只能看到已经提交事务做出的改变.(不可重复读,幻读)
> 3.Repeatable Read:可重读,确保同一个事务多个实例在并发读取数据时,看到的同样的数据行.(幻读)
> 4.Serialable:序列化:强制事务排序,使之不可能相互冲突.
